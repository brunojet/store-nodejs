openapi: 3.0.3
info:
  title: Store NodeJS API
  version: 1.0.0
  description: API para cadastro e gestão de aplicativos na loja
  contact:
    name: Equipe Store NodeJS
    email: suporte@store-nodejs.com
    url: https://store-nodejs.com
servers:
  - url: http://localhost:3000

tags:
  - name: CadastroAplicativo
    description: Operações de cadastro de aplicativos
  - name: DetalheAplicativo
    description: Operações de detalhes de aplicativos
  - name: SuporteParceiro
    description: Operações de suporte parceiro
  - name: ConfiguracaoAplicativo
    description: Operações de configuração de aplicativos
  - name: VersaoAplicativo
    description: Operações de versão de aplicativos
  - name: CatalogoAplicativo
    description: Operações de catálogo de aplicativos
  - name: TerminalModelo
    description: Operações de modelo de terminal

paths:
  /api/cadastro-aplicativo:
    post:
      tags: [CadastroAplicativo]
      summary: Criar um novo aplicativo
      description: Cria um novo registro de aplicativo.
      operationId: createCadastroAplicativo
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                codigoParceiro:
                  type: string
                codigoProduto:
                  type: string
                suporteParceiroId:
                  type: integer
                  nullable: true
                suporteParceiro:
                  type: object
                  properties:
                    codigoParceiro:
                      type: string
                    nome:
                      type: string
                    email:
                      type: string
                    telefone:
                      type: string
                  required:
                    - codigoParceiro
                    - nome
                    - email
                    - telefone
                  description: Dados completos para criar suporte parceiro
                detalhesAplicativoId:
                  type: integer
                detalhesAplicativo:
                  type: object
                  properties:
                    descricao:
                      type: string
                    images:
                      type: array
                      items:
                        type: string
                  required:
                    - descricao
                  description: Dados completos para criar detalhe do aplicativo
              required:
                - codigoParceiro
                - codigoProduto
      responses:
        '201':
          description: Aplicativo criado
    get:
      tags: [CadastroAplicativo]
      summary: Listar todos os aplicativos
      description: Retorna todos os aplicativos cadastrados.
      operationId: listCadastroAplicativo
      responses:
        '200':
          description: Lista de aplicativos
  /api/cadastro-aplicativo/{id}:
    get:
      tags: [CadastroAplicativo]
      summary: Buscar aplicativo por ID
      description: Busca um aplicativo pelo seu ID.
      operationId: getCadastroAplicativoById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Aplicativo encontrado
        '404':
          description: Não encontrado
    put:
      tags: [CadastroAplicativo]
      summary: Atualizar aplicativo por ID
      description: Atualiza os dados de um aplicativo pelo ID.
      operationId: updateCadastroAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                codigoParceiro:
                  type: string
                codigoProduto:
                  type: string
                terminalModeloId:
                  type: integer
                suporteParceiroId:
                  type: integer
                  nullable: true
                detalhesAplicativoId:
                  type: integer
              required:
                - codigoParceiro
                - codigoProduto
                - terminalModeloId
                - detalhesAplicativoId
      responses:
        '200':
          description: Aplicativo atualizado
    delete:
      tags: [CadastroAplicativo]
      summary: Remover aplicativo por ID
      description: Remove um aplicativo pelo ID.
      operationId: deleteCadastroAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Aplicativo removido
  /api/detalhe-aplicativo:
    post:
      tags: [DetalheAplicativo]
      summary: Criar detalhe de aplicativo
      description: Cria um novo detalhe para um aplicativo.
      operationId: createDetalheAplicativo
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                descricao:
                  type: string
                images:
                  type: array
                  items:
                    type: string
                  description: Lista de nomes dos arquivos enviados
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Arquivos de imagem anexados
              required:
                - descricao
      responses:
        '201':
          description: Detalhe criado
    get:
      tags: [DetalheAplicativo]
      summary: Listar todos os detalhes
      description: Retorna todos os detalhes cadastrados.
      operationId: listDetalheAplicativo
      responses:
        '200':
          description: Lista de detalhes
  /api/detalhe-aplicativo/{id}:
    get:
      tags: [DetalheAplicativo]
      summary: Buscar detalhe por ID
      description: Busca um detalhe pelo seu ID.
      operationId: getDetalheAplicativoById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Detalhe encontrado
        '404':
          description: Não encontrado
    put:
      tags: [DetalheAplicativo]
      summary: Atualizar detalhe por ID
      description: Atualiza os dados de um detalhe pelo ID.
      operationId: updateDetalheAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                descricao:
                  type: string
                images:
                  type: array
                  items:
                    type: string
              required:
                - descricao
      responses:
        '200':
          description: Detalhe atualizado
    delete:
      tags: [DetalheAplicativo]
      summary: Remover detalhe por ID
      description: Remove um detalhe pelo ID.
      operationId: deleteDetalheAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Detalhe removido
  /api/suporte-parceiro:
    post:
      tags: [SuporteParceiro]
      summary: Criar suporte parceiro
      description: Cria um novo suporte parceiro.
      operationId: createSuporteParceiro
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                codigoParceiro:
                  type: string
                nome:
                  type: string
                email:
                  type: string
                telefone:
                  type: string
              required:
                - codigoParceiro
                - nome
                - email
                - telefone
      responses:
        '201':
          description: Suporte criado
    get:
      tags: [SuporteParceiro]
      summary: Listar todos os suportes parceiros
      description: Retorna todos os suportes parceiros cadastrados.
      operationId: listSuporteParceiro
      responses:
        '200':
          description: Lista de suportes parceiros
  /api/suporte-parceiro/{id}:
    get:
      tags: [SuporteParceiro]
      summary: Buscar suporte parceiro por ID
      description: Busca um suporte parceiro pelo seu ID.
      operationId: getSuporteParceiroById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Suporte encontrado
        '404':
          description: Não encontrado
    put:
      tags: [SuporteParceiro]
      summary: Atualizar suporte parceiro por ID
      description: Atualiza os dados de um suporte parceiro pelo ID.
      operationId: updateSuporteParceiro
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                codigoParceiro:
                  type: string
                nome:
                  type: string
                email:
                  type: string
                telefone:
                  type: string
              required:
                - codigoParceiro
                - nome
                - email
                - telefone
      responses:
        '200':
          description: Suporte atualizado
    delete:
      tags: [SuporteParceiro]
      summary: Remover suporte parceiro por ID
      description: Remove um suporte parceiro pelo ID.
      operationId: deleteSuporteParceiro
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Suporte removido
  /api/configuracao-aplicativo:
    post:
      tags: [ConfiguracaoAplicativo]
      summary: Criar configuração de aplicativo
      description: Cria uma nova configuração de aplicativo.
      operationId: createConfiguracaoAplicativo
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nomePacoteApp:
                  type: string
                tipoIntegracao:
                  type: string
                  enum: [ADQ, TEF]
                terminalModeloId:
                  type: integer
                cadastroAplicativoId:
                  type: integer
              required:
                - nomePacoteApp
                - tipoIntegracao
                - terminalModeloId
                - cadastroAplicativoId
      responses:
        '201':
          description: Configuração criada
    get:
      tags: [ConfiguracaoAplicativo]
      summary: Listar todas as configurações
      description: Retorna todas as configurações cadastradas.
      operationId: listConfiguracaoAplicativo
      responses:
        '200':
          description: Lista de configurações
  /api/configuracao-aplicativo/{id}:
    get:
      tags: [ConfiguracaoAplicativo]
      summary: Buscar configuração por ID
      description: Busca uma configuração pelo seu ID.
      operationId: getConfiguracaoAplicativoById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Configuração encontrada
        '404':
          description: Não encontrado
    put:
      tags: [ConfiguracaoAplicativo]
      summary: Atualizar configuração por ID
      description: Atualiza os dados de uma configuração pelo ID.
      operationId: updateConfiguracaoAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nomePacoteApp:
                  type: string
                tipoIntegracao:
                  type: string
                  enum: [ADQ, TEF]
                terminalModeloId:
                  type: integer
              required:
                - nomePacoteApp
                - tipoIntegracao
                - terminalModeloId
      responses:
        '200':
          description: Configuração atualizada
    delete:
      tags: [ConfiguracaoAplicativo]
      summary: Remover configuração por ID
      description: Remove uma configuração pelo ID.
      operationId: deleteConfiguracaoAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Configuração removida
  /api/versao-aplicativo:
    post:
      tags: [VersaoAplicativo]
      summary: Criar versão de aplicativo
      description: Cria uma nova versão de aplicativo.
      operationId: createVersaoAplicativo
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                data:
                  type: string
                  description: JSON serializado com os dados da versão
                  example: '{"versao":"1.0.0","changelog":"Primeira versão","pacoteMdm":"app.mdm","versaoMdm":"1.0","tamanho":"10MB","avaliacao":5}'
                file:
                  type: string
                  format: binary
                  description: Arquivo de imagem do ícone
              required:
                - data
                - file
      responses:
        '201':
          description: Versão criada
    get:
      tags: [VersaoAplicativo]
      summary: Listar todas as versões
      description: Retorna todas as versões cadastradas.
      operationId: listVersaoAplicativo
      responses:
        '200':
          description: Lista de versões
  /api/versao-aplicativo/{id}:
    get:
      tags: [VersaoAplicativo]
      summary: Buscar versão por ID
      description: Busca uma versão pelo seu ID.
      operationId: getVersaoAplicativoById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Versão encontrada
        '404':
          description: Não encontrado
    put:
      tags: [VersaoAplicativo]
      summary: Atualizar versão por ID
      description: Atualiza os dados de uma versão pelo ID.
      operationId: updateVersaoAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                imageIcon:
                  type: string
                versao:
                  type: string
                changelog:
                  type: string
                pacoteMdm:
                  type: string
                versaoMdm:
                  type: string
                tamanho:
                  type: string
                avaliacao:
                  type: number
              required:
                - imageIcon
                - versao
                - changelog
                - pacoteMdm
                - versaoMdm
                - tamanho
      responses:
        '200':
          description: Versão atualizada
    delete:
      tags: [VersaoAplicativo]
      summary: Remover versão por ID
      description: Remove uma versão pelo ID.
      operationId: deleteVersaoAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Versão removida
  /api/catalogo-aplicativo:
    post:
      tags: [CatalogoAplicativo]
      summary: Criar catálogo de aplicativo
      description: Cria um novo catálogo de aplicativo.
      operationId: createCatalogoAplicativo
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                configuracaoAplicativoId:
                  type: integer
                versaoAplicativoId:
                  type: integer
              required:
                - configuracaoAplicativoId
                - versaoAplicativoId
      responses:
        '201':
          description: Catálogo criado
    get:
      tags: [CatalogoAplicativo]
      summary: Listar todos os catálogos
      description: Retorna todos os catálogos cadastrados.
      operationId: listCatalogoAplicativo
      responses:
        '200':
          description: Lista de catálogos
  /api/catalogo-aplicativo/{id}:
    get:
      tags: [CatalogoAplicativo]
      summary: Buscar catálogo por ID
      description: Busca um catálogo pelo seu ID.
      operationId: getCatalogoAplicativoById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Catálogo encontrado
        '404':
          description: Não encontrado
    put:
      tags: [CatalogoAplicativo]
      summary: Atualizar catálogo por ID
      description: Atualiza os dados de um catálogo pelo ID.
      operationId: updateCatalogoAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                configuracaoAplicativoId:
                  type: integer
              required:
                - configuracaoAplicativoId
      responses:
        '200':
          description: Catálogo atualizado
    delete:
      tags: [CatalogoAplicativo]
      summary: Remover catálogo por ID
      description: Remove um catálogo pelo ID.
      operationId: deleteCatalogoAplicativo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Catálogo removido
  /api/terminal-modelo:
    post:
      tags: [TerminalModelo]
      summary: Criar modelo de terminal
      description: Cria um novo modelo de terminal.
      operationId: createTerminalModelo
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
              required:
                - nome
      responses:
        '201':
          description: Modelo criado
    get:
      tags: [TerminalModelo]
      summary: Listar todos os modelos de terminal
      description: Retorna todos os modelos de terminal cadastrados.
      operationId: listTerminalModelo
      responses:
        '200':
          description: Lista de modelos
  /api/terminal-modelo/{id}:
    get:
      tags: [TerminalModelo]
      summary: Buscar modelo de terminal por ID
      description: Busca um modelo de terminal pelo seu ID.
      operationId: getTerminalModeloById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Modelo encontrado
        '404':
          description: Não encontrado
    put:
      tags: [TerminalModelo]
      summary: Atualizar modelo de terminal por ID
      description: Atualiza os dados de um modelo de terminal pelo ID.
      operationId: updateTerminalModelo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
              required:
                - nome
      responses:
        '200':
          description: Modelo atualizado
    delete:
      tags: [TerminalModelo]
      summary: Remover modelo de terminal por ID
      description: Remove um modelo de terminal pelo ID.
      operationId: deleteTerminalModelo
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Modelo removido
